<script>
  const textarea = document.getElementById('pesan');
  const saveBtn = document.getElementById('saveBtn');
  const loadBtn = document.getElementById('loadBtn');
  const clearBtn = document.getElementById('clearBtn');

  const STORAGE_KEY = 'autosave_textarea';

  // Load otomatis saat halaman dibuka
  const saved = localStorage.getItem(STORAGE_KEY);
  if (saved !== null) {
    textarea.value = saved;
  }

  // Autosave saat mengetik
  textarea.addEventListener('input', () => {
    localStorage.setItem(STORAGE_KEY, textarea.value);
  });

  // Save manual
  saveBtn.addEventListener('click', () => {
    localStorage.setItem(STORAGE_KEY, textarea.value);
    alert('Text saved!');
  });

  // Load manual
  loadBtn.addEventListener('click', () => {
    const data = localStorage.getItem(STORAGE_KEY);
    if (data !== null) {
      textarea.value = data;
      alert('Text loaded!');
    } else {
      alert('No saved text found.');
    }
  });

  // Clear textarea + storage
  clearBtn.addEventListener('click', () => {
    textarea.value = '';
    localStorage.removeItem(STORAGE_KEY);
    alert('Cleared!');
  });
</script>
